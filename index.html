<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CeeTy Scent - Luxury Perfumes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: 
                linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(45, 45, 45, 0.8) 50%, rgba(255, 105, 180, 0.3) 100%),
                url('https://images.unsplash.com/photo-1592422505084-c8e3dba025b7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-attachment: fixed;
            min-height: 100vh;
            color: #ffffff;
        }

        .navbar {
            background: rgba(0, 0, 0, 0.9);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: #ff69b4;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .nav-links a:hover {
            color: #ff69b4;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            padding: 0.5rem;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff69b4;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .page {
            display: none;
            min-height: 100vh;
            padding-top: 80px;
        }

        .page.active {
            display: block;
        }

        .hero {
            text-align: center;
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            background-image: 
                linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.4)),
                url('https://images.unsplash.com/photo-1541643600914-78b084683601?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            border-radius: 20px;
            backdrop-filter: blur(2px);
        }

        .perfume-bottle {
            width: 300px;
            height: 400px;
            background: linear-gradient(45deg, rgba(255, 105, 180, 0.3), rgba(0, 0, 0, 0.8));
            margin: 2rem auto;
            border-radius: 50px 50px 20px 20px;
            position: relative;
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #ff69b4;
        }

        .perfume-bottle::before {
            content: '';
            position: absolute;
            top: -20px;
            width: 50px;
            height: 30px;
            background: linear-gradient(45deg, #ff69b4, #000);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .brand-text {
            font-size: 2rem;
            font-weight: bold;
            color: #ff69b4;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
            transform: rotate(-15deg);
        }

        .hero h1 {
            font-size: 3rem;
            margin: 2rem 0;
            background: linear-gradient(45deg, #ff69b4, #ffffff);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

        .cta-button {
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 1rem;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.4);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .category {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 2rem;
            border: 2px solid #ff69b4;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .category::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.15;
            background-size: cover;
            background-position: center;
            z-index: -1;
        }

        .category:nth-child(1)::before {
            background-image: url('https://images.unsplash.com/photo-1588405748880-12d1d2a59d75?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
        }

        .category:nth-child(2)::before {
            background-image: url('https://images.unsplash.com/photo-1594035910387-fea47794261f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
        }

        .category:nth-child(3)::before {
            background-image: url('https://images.unsplash.com/photo-1515377905703-c4788e51af15?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
        }

        .category h2 {
            color: #ff69b4;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .product {
            background: rgba(255, 105, 180, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .product:hover {
            background: rgba(255, 105, 180, 0.2);
            transform: translateX(5px);
        }

        .product-info {
            flex: 1;
        }

        .product-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .product-price {
            color: #ff69b4;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .product-stock {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .add-to-cart {
            background: #ff69b4;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .add-to-cart:hover {
            background: #ff1493;
            transform: scale(1.05);
        }

        .add-to-cart:disabled {
            background: #666;
            cursor: not-allowed;
        }

        .checkout-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            border: 2px solid #ff69b4;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #ff69b4;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ff69b4;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .shipping-options {
            display: grid;
            gap: 1rem;
            margin: 1rem 0;
        }

        .shipping-option {
            background: rgba(255, 105, 180, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .shipping-option:hover {
            border-color: #ff69b4;
        }

        .shipping-option.selected {
            border-color: #ff69b4;
            background: rgba(255, 105, 180, 0.2);
        }

        .cart-summary {
            background: rgba(255, 105, 180, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 2rem 0;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            margin-bottom: 0.2rem;
        }

        .cart-item-price {
            color: #ff69b4;
            font-size: 0.9rem;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            background: #ff69b4;
            color: white;
            border: none;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .remove-btn {
            background: #ff1493;
            color: white;
            border: none;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .total {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff69b4;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid #ff69b4;
        }

        .footer {
            background: rgba(0, 0, 0, 0.9);
            padding: 3rem 2rem 1rem;
            margin-top: 4rem;
            border-top: 2px solid #ff69b4;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            color: #ff69b4;
            margin-bottom: 1rem;
        }

        .footer-section p, .footer-section a {
            color: #ffffff;
            text-decoration: none;
            margin-bottom: 0.5rem;
            display: block;
        }

        .footer-section a:hover {
            color: #ff69b4;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #ff69b4;
            color: rgba(255, 255, 255, 0.7);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
        }

        .modal-content {
            background: linear-gradient(135deg, #000000, #2d2d2d);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            border: 2px solid #ff69b4;
            position: relative;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            cursor: pointer;
            color: #ff69b4;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .perfume-bottle {
                width: 250px;
                height: 320px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">CeeTy Scent</div>
            <ul class="nav-links">
                <li><a onclick="showPage('home')">Home</a></li>
                <li><a onclick="showPage('products')">Products</a></li>
                <li><a onclick="showPage('about')">About</a></li>
                <li><a onclick="showPage('contact')">Contact</a></li>
            </ul>
            <div class="cart-icon" onclick="showPage('cart')">
                ðŸ›’
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home" class="page active">
        <div class="hero">
            <div class="perfume-bottle">
                <div class="brand-text">CeeTy Scent</div>
            </div>
            <h1>Luxury Fragrances</h1>
            <p>Discover our exclusive collection of premium perfumes. From classic elegance to modern sophistication, find your signature scent with CeeTy Scent.</p>
            <button class="cta-button" onclick="showPage('products')">Shop Now</button>
        </div>
    </div>

    <!-- Products Page -->
    <div id="products" class="page">
        <div class="products-grid">
            <div class="category">
                <h2>Female Collection</h2>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Good Girl</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 3</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Good Girl', 'Female', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Scandal</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 3</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Scandal', 'Female', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Jimmy Choo</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 2</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Jimmy Choo', 'Female', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">La Vie Est Belle</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('La Vie Est Belle', 'Female', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">My Way</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 2</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('My Way', 'Female', 200)">Add to Cart</button>
                </div>
            </div>

            <div class="category">
                <h2>Male Collection</h2>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Adventure Creed</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 2</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Adventure Creed', 'Male', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Blossom Love</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 2</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Blossom Love', 'Male', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Le Male</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Le Male', 'Male', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Sauvage</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Sauvage', 'Male', 200)">Add to Cart</button>
                </div>
            </div>

            <div class="category">
                <h2>Niche Collection</h2>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">L'Eau d'Issey by Issey Miyake (Ladies)</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('L\'Eau d\'Issey by Issey Miyake', 'Niche', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Burberry by Burberry Ladies</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Burberry by Burberry Ladies', 'Niche', 200)">Add to Cart</button>
                </div>
                <div class="product">
                    <div class="product-info">
                        <div class="product-name">Afternoon Swim by Louis Vuitton</div>
                        <div class="product-price">R200</div>
                        <div class="product-stock">In Stock: 1</div>
                    </div>
                    <button class="add-to-cart" onclick="addToCart('Afternoon Swim by Louis Vuitton', 'Niche', 200)">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cart" class="page">
        <div class="checkout-form">
            <h2 style="color: #ff69b4; text-align: center; margin-bottom: 2rem;">Shopping Cart & Checkout</h2>
            
            <div class="cart-summary" id="cartSummary">
                <h3 style="color: #ff69b4;">Your Order</h3>
                <div id="cartItems"></div>
                <div class="total" id="totalAmount">Total: R0</div>
            </div>

            <form id="checkoutForm">
                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name">
                </div>

                <div class="form-group">
                    <label for="cellphone">Cellphone Number *</label>
                    <input type="tel" id="cellphone" name="cellphone" required placeholder="e.g., 0123456789">
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                </div>

                <div class="form-group">
                    <label>Shipping Method *</label>
                    <div class="shipping-options">
                        <div class="shipping-option" onclick="selectShipping('paxi', 60)">
                            <strong>Paxi (R60)</strong>
                            <p>Nationwide delivery via Paxi</p>
                        </div>
                        <div class="shipping-option" onclick="selectShipping('collection', 0)">
                            <strong>Collection (Free)</strong>
                            <p>Collect from our location</p>
                        </div>
                        <div class="shipping-option" onclick="selectShipping('local', 35)">
                            <strong>Local Delivery (R35)</strong>
                            <p>Matsulu and Northwest areas</p>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="paxiNumberGroup" style="display: none;">
                    <label for="paxiNumber">Paxi Point Number *</label>
                    <input type="text" id="paxiNumber" name="paxiNumber" placeholder="Enter your Paxi point number">
                </div>

                <div class="form-group">
                    <label for="address">Delivery Address</label>
                    <input type="text" id="address" name="address" placeholder="Street address (required for local delivery)">
                </div>

                <div style="background: rgba(255, 105, 180, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0;">
                    <h3 style="color: #ff69b4; margin-bottom: 1rem;">Payment Information</h3>
                    <p><strong>Capitec Account:</strong> 1972211119</p>
                    <p><strong>Account Holder:</strong> CeeTy Scent</p>
                    <p style="margin-top: 1rem; color: #ff69b4;"><strong>Important:</strong> Please send proof of payment along with your order details via WhatsApp to complete your purchase.</p>
                </div>

                <button type="submit" class="cta-button" style="width: 100%; margin-top: 1rem;">
                    Place Order via WhatsApp
                </button>
            </form>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page">
        <div style="max-width: 800px; margin: 0 auto; padding: 2rem;">
            <h1 style="color: #ff69b4; text-align: center; margin-bottom: 2rem;">About CeeTy Scent</h1>
            <div style="background: rgba(0, 0, 0, 0.8); padding: 2rem; border-radius: 15px; border: 2px solid #ff69b4;">
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    Welcome to CeeTy Scent, where luxury meets affordability. We specialize in bringing you authentic, high-quality fragrances from the world's most prestigious brands.
                </p>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem;">
                    Our carefully curated collection features the finest perfumes for women, men, and niche fragrances that cater to the most discerning tastes. Each bottle in our collection is selected for its unique character and exceptional quality.
                </p>
                <p style="font-size: 1.1rem; line-height: 1.8;">
                    At CeeTy Scent, we believe that everyone deserves to experience the confidence and elegance that comes with wearing a signature fragrance. Let us help you discover your perfect scent.
                </p>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page">
        <div style="max-width: 600px; margin: 0 auto; padding: 2rem;">
            <h1 style="color: #ff69b4; text-align: center; margin-bottom: 2rem;">Contact Us</h1>
            <div style="background: rgba(0, 0, 0, 0.8); padding: 2rem; border-radius: 15px; border: 2px solid #ff69b4;">
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: #ff69b4; margin-bottom: 1rem;">Get in Touch</h3>
                    <p style="margin-bottom: 0.5rem;"><strong>WhatsApp:</strong> 076 318 4650</p>
                    <p style="margin-bottom: 0.5rem;"><strong>Email:</strong> talentmachava@gmail.com</p>
                </div>
                
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: #ff69b4; margin-bottom: 1rem;">Business Hours</h3>
                    <p style="margin-bottom: 0.5rem;">Monday - Friday: 9:00 AM - 6:00 PM</p>
                    <p style="margin-bottom: 0.5rem;">Saturday: 9:00 AM - 4:00 PM</p>
                    <p style="margin-bottom: 0.5rem;">Sunday: Closed</p>
                </div>

                <div>
                    <h3 style="color: #ff69b4; margin-bottom: 1rem;">Service Areas</h3>
                    <p style="margin-bottom: 0.5rem;">â€¢ Local Delivery: Matsulu and Northwest (R35)</p>
                    <p style="margin-bottom: 0.5rem;">â€¢ Paxi Delivery: Nationwide (R60)</p>
                    <p style="margin-bottom: 0.5rem;">â€¢ Collection: Available at our location</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>CeeTy Scent</h3>
                <p>Premium fragrances for discerning customers</p>
                <p>Authentic â€¢ Affordable â€¢ Luxurious</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <a onclick="showPage('home')">Home</a>
                <a onclick="showPage('products')">Products</a>
                <a onclick="showPage('about')">About</a>
                <a onclick="showPage('contact')">Contact</a>
            </div>
            <div class="footer-section">
                <h3>Contact Info</h3>
                <p>WhatsApp: 076 318 4650</p>
                <p>Email: talentmachava@gmail.com</p>
                <p>Capitec Account: 1972211119</p>
            </div>
            <div class="footer-section">
                <h3>Delivery Options</h3>
                <p>Paxi Delivery: R60</p>
                <p>Local Delivery: R35</p>
                <p>Collection: Free</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 CeeTy Scent. All rights reserved.</p>
        </div>
    </footer>

    <script>
        let cart = [];
        let selectedShipping = null;
        let shippingCost = 0;

        const productStock = {
            'Good Girl': 3,
            'Scandal': 3,
            'Jimmy Choo': 2,
            'La Vie Est Belle': 1,
            'My Way': 2,
            'Adventure Creed': 2,
            'Blossom Love': 2,
            'Le Male': 1,
            'Sauvage': 1,
            'L\'Eau d\'Issey by Issey Miyake': 1,
            'Burberry by Burberry Ladies': 1,
            'Afternoon Swim by Louis Vuitton': 1
        };

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        function addToCart(productName, category, price) {
            if (productStock[productName] > 0) {
                const existingItem = cart.find(item => item.name === productName);
                
                if (existingItem) {
                    if (existingItem.quantity < productStock[productName]) {
                        existingItem.quantity += 1;
                    } else {
                        alert('Maximum stock reached for this item!');
                        return;
                    }
                } else {
                    cart.push({
                        name: productName,
                        category: category,
                        price: price,
                        quantity: 1
                    });
                }
                
                updateCartDisplay();
                alert(`${productName} added to cart!`);
            } else {
                alert('This item is out of stock!');
            }
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;

            const cartItems = document.getElementById('cartItems');
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty</p>';
                document.getElementById('totalAmount').textContent = 'Total: R0';
                return;
            }

            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">R${item.price} each</div>
                    </div>
                    <div class="cart-item-controls">
                        <button class="quantity-btn" onclick="changeQuantity(${index}, -1)">-</button>
                        <span style="margin: 0 0.5rem; font-weight: bold;">${item.quantity}</span>
                        <button class="quantity-btn" onclick="changeQuantity(${index}, 1)">+</button>
                        <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + shippingCost;
            
            const totalElement = document.getElementById('totalAmount');
            totalElement.innerHTML = `
                <div>Subtotal: R${subtotal}</div>
                <div>Shipping: R${shippingCost}</div>
                <div style="border-top: 1px solid #ff69b4; margin-top: 0.5rem; padding-top: 0.5rem;">
                    <strong>Total: R${total}</strong>
                </div>
            `;
        }

        function changeQuantity(index, change) {
            const item = cart[index];
            const newQuantity = item.quantity + change;
            
            if (newQuantity <= 0) {
                cart.splice(index, 1);
            } else if (newQuantity <= productStock[item.name]) {
                item.quantity = newQuantity;
            } else {
                alert('Maximum stock reached for this item!');
                return;
            }
            
            updateCartDisplay();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
        }

        function selectShipping(method, cost) {
            document.querySelectorAll('.shipping-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            event.target.closest('.shipping-option').classList.add('selected');
            selectedShipping = method;
            shippingCost = cost;
            
            const paxiGroup = document.getElementById('paxiNumberGroup');
            if (method === 'paxi') {
                paxiGroup.style.display = 'block';
                document.getElementById('paxiNumber').required = true;
            } else {
                paxiGroup.style.display = 'none';
                document.getElementById('paxiNumber').required = false;
            }
            
            updateCartDisplay();
        }

        document.getElementById('checkoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            if (!selectedShipping) {
                alert('Please select a shipping method!');
                return;
            }
            
            const formData = new FormData(this);
            const customerInfo = {
                name: formData.get('fullName'),
                phone: formData.get('cellphone'),
                email: formData.get('email'),
                address: formData.get('address'),
                paxiNumber: formData.get('paxiNumber')
            };
            
            // Validation for local delivery
            if (selectedShipping === 'local' && !customerInfo.address.trim()) {
                alert('Please provide a delivery address for local delivery!');
                return;
            }
            
            // Validation for Paxi
            if (selectedShipping === 'paxi' && !customerInfo.paxiNumber.trim()) {
                alert('Please provide your Paxi point number!');
                return;
            }
            
            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + shippingCost;
            
            // Generate order summary
            let orderSummary = `ðŸŒ¸ *CeeTy Scent - New Order* ðŸŒ¸\n\n`;
            orderSummary += `ðŸ‘¤ *Customer Details:*\n`;
            orderSummary += `Name: ${customerInfo.name}\n`;
            orderSummary += `Phone: ${customerInfo.phone}\n`;
            orderSummary += `Email: ${customerInfo.email}\n`;
            
            if (customerInfo.address) {
                orderSummary += `Address: ${customerInfo.address}\n`;
            }
            
            orderSummary += `\nðŸ›ï¸ *Order Items:*\n`;
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                orderSummary += `â€¢ ${item.name} (${item.category})\n`;
                orderSummary += `  R${item.price} x ${item.quantity} = R${itemTotal}\n`;
            });
            
            orderSummary += `\nðŸšš *Shipping Method:*\n`;
            let shippingMethod = '';
            switch(selectedShipping) {
                case 'paxi':
                    shippingMethod = `Paxi Delivery (R60)\nPaxi Number: ${customerInfo.paxiNumber}`;
                    break;
                case 'collection':
                    shippingMethod = 'Collection (Free)';
                    break;
                case 'local':
                    shippingMethod = `Local Delivery (R35)\nAddress: ${customerInfo.address}`;
                    break;
            }
            orderSummary += shippingMethod;
            
            orderSummary += `\n\nðŸ’° *Order Summary:*\n`;
            orderSummary += `Subtotal: R${subtotal}\n`;
            orderSummary += `Shipping: R${shippingCost}\n`;
            orderSummary += `*Total Amount: R${total}*\n`;
            orderSummary += `\nðŸ¦ *Payment Details:*\n`;
            orderSummary += `Capitec Account: 1972211119\n`;
            orderSummary += `Account Holder: CeeTy Scent\n`;
            orderSummary += `Please send proof of payment with this order.\n`;
            orderSummary += `\nâœ¨ Thank you for choosing CeeTy Scent! âœ¨`;
            
            // Create WhatsApp link
            const whatsappNumber = '27763184650'; // South African format
            const encodedMessage = encodeURIComponent(orderSummary);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappUrl, '_blank');
            
            // Clear cart and form
            cart = [];
            updateCartDisplay();
            this.reset();
            selectedShipping = null;
            shippingCost = 0;
            document.querySelectorAll('.shipping-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.getElementById('paxiNumberGroup').style.display = 'none';
            
            alert('Order sent to WhatsApp! Please complete payment and send proof of payment.');
        });

        // Initialize page
        updateCartDisplay();
    </script>
</body>
</html>
